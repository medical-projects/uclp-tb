{% load forms %}
<div ng-show="editing.observed_treatment.length" class="row">
  <div class="col-md-8 col-md-push-2 text-center">
    <button ng-show="unobservedCount" class="btn btn-secondary" ng-click="showUnobserved()">
      <span ng-hide="withUnobserved">{% icon "fa-toggle-off" %} Show </span>
      <span ng-show="withUnobserved">{% icon "fa-toggle-on" %} Hide </span>
      Unobserved ([[ getUnobservedCount() ]])
    </button>
    <table class="table content-offset-25">
      <tr>
        <th class="text-center">Drug</th>
        <th class="text-center">Dose</th>
        <th class="text-center">Date</th>
        <th class="text-center">Observed</th>
      </tr>
      <tr ng-show="withUnobserved || isCurrent(item)" ng-repeat="item in editing.observed_treatment">
        <td>
          [[ item.drug ]]
        </td>
        <td>
          [[ item.dose ]]
        </td>
        <td>
          [[ item.date | shortDate ]]
        </td>
        <td>
          <label class="btn btn-default" ng-model="item.observed" data-title="Observed" bs-tooltip btn-radio="true">{% icon "fa-check" %}</label>
          <label class="btn btn-default" ng-model="item.observed" data-title="Not Observed" bs-tooltip btn-radio="false">{% icon "fa fa-close"%}</label>
        </td>
      </tr>
    </table>
    <button class="btn btn-primary" ng-click="observeAllActiveTreatments()">
      {% icon "fa-check" %}
      All Treatments observed
    </button>
  </div>
</div>
<div ng-show="!editing.observed_treatment.length" class="row">
  <h3 class="text-center">The Patient Has No Treatments To Observe</h3>
</div>
