<div class="panel panel-default">
  <div class="panel-heading">
    <h3>
        Patient History
    </h3>
  </div>
  <div class="panel-body">
    <div ng-if="$first" class="row">
      <div class="col-md-3 patient-timeline">
        <div class="patient-timeline-now">
          <div class="patient-timeline-now-text bg-secondary">
            Now
          </div>
        </div>
      </div>
    </div>
    <div ng-repeat="metaInformation in timelineData" class="row content-offset-20">
      <div class="col-md-3 patient-timeline">
        <a
           class="pointer"
           ng-click="episode.recordEditor.editItem(metaInformation.columnName, getIndex(metaInformation.subrecord))">
          <div class="patient-timeline-speech-bubble">
            <i class="[[ metaInformation.icon ]] patient-timeline-speech-bubble-icon"></i>
          </div>
          <div class="patient-timeline-date">
            [[ metaInformation.subrecord[metaInformation.when] | momentDateFormat:'DD MMM YYYY' ]]
          </div>
        </a>
      </div>
      <div class="col-md-9">
        <div ng-repeat="item in [metaInformation.subrecord]" class="patient-timeline-entry">
          <div ng-include src="metaInformation.templateUrl"></div>
        </div>
      </div>
    </div>
  </div>
</div>
